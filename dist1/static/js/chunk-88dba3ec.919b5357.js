(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-88dba3ec"],{"8d92":function(e,r,s){"use strict";s.r(r);var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"register-container"},[s("el-form",{ref:"registerForm",staticClass:"register-form",attrs:{model:e.registerForm,rules:e.registerRules,"label-position":"left","label-width":"100px"}},[s("div",{staticClass:"title-container"},[s("h3",{staticClass:"title"},[e._v("密 码 重 置")])]),s("el-form-item",{attrs:{label:"邮箱:",prop:"email"}},[s("el-input",{attrs:{type:"email",autofocus:!1},model:{value:e.registerForm.email,callback:function(r){e.$set(e.registerForm,"email",r)},expression:"registerForm.email"}})],1),s("el-row",{attrs:{gutter:16}},[s("el-col",{attrs:{span:18,offset:0}},[s("el-form-item",{attrs:{label:"邮箱验证码:",prop:"code"}},[s("el-input",{model:{value:e.registerForm.code,callback:function(r){e.$set(e.registerForm,"code",r)},expression:"registerForm.code"}})],1)],1),s("el-col",{attrs:{span:6,offset:0}},[s("el-button",{staticClass:"sendCodeBtn",attrs:{type:"primary",plain:"",size:"default",disabled:e.isDisabled},on:{click:e.sendCode}},[e._v(e._s(e.sendText))])],1)],1),s("el-form-item",{attrs:{label:"新密码:",prop:"password"}},[s("el-input",{attrs:{type:"password"},model:{value:e.registerForm.password,callback:function(r){e.$set(e.registerForm,"password",r)},expression:"registerForm.password"}})],1),s("el-form-item",{attrs:{label:"确认新密码:",prop:"rePassword"}},[s("el-input",{attrs:{type:"password"},model:{value:e.registerForm.rePassword,callback:function(r){e.$set(e.registerForm,"rePassword",r)},expression:"registerForm.rePassword"}})],1),s("el-form-item",[s("div",{staticClass:"btnWrap clearfix"},[s("p",{staticClass:"tipText"},[s("span",{on:{click:e.handleToLogin}},[e._v("返回登录")])]),s("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitRegister("ruleForm")}}},[e._v("确 认")])],1)])],1)],1)},a=[],i=s("6a41"),o=s("5314"),l=s("d702"),n={name:"reset-password",data:function(){var e=this,r=function(e,r,s){r?s():s(new Error("请输入密码"))},s=function(r,s,t){s?s!=e.registerForm.password?t(new Error("两次输入密码不一致")):t():t(new Error("请输入确认密码"))},t=function(r,s,t){if(s){var a=/^[a-zA-Z0-9_-]+@([a-z0-9]+[-a-z0-9]*[a-z0-9]+\.)+(com|cn|net|org)$/;a.test(s)?Object(i["k"])(s).then((function(r){200==r.data.status?t("该邮箱不存在"):(e.passValidatorEmail=!0,e.isDisabled=!1,t())})):t("邮箱格式不正确")}else t(new Error("请输入邮箱"))};return{registerForm:{password:"",rePassword:"",email:"",code:""},registerRules:{password:[{required:!0,validator:r,trigger:"blur"},{required:!0,min:5,message:"密码长度少于5位",trigger:"blur"}],rePassword:[{required:!0,validator:s,trigger:"blur"}],email:[{required:!0,validator:t,trigger:"blur"}],code:[{required:!0,message:"请输入邮箱验证码",trigger:"blur"}]},sendText:"发送验证码",passValidatorEmail:!1,msgTime:60,isDisabled:!0,timer:null}},methods:{sendCode:function(){var e=this;if(this.registerForm.email){if(this.passValidatorEmail){var r={email:this.registerForm.email};Object(o["i"])(r).then((function(r){if(200===r.data.status){e.$message.success("验证码发送成功"),e.isDisabled=!0;var s=e;s.timer=setInterval((function(){e.msgTime--,e.sendText=e.msgTime+"秒后重试",0===e.msgTime&&(e.msgTime=60,e.sendText="发送验证码",e.isDisabled=!1,clearInterval(s.timer))}),1e3)}}))}}else this.$message.warning("请先输入邮箱")},handleToLogin:function(){this.$router.push({path:"/login"})},submitRegister:function(){var e=this;this.$refs.registerForm.validate((function(r){if(r){var s={username:e.registerForm.username,password:e.registerForm.password,postCode:e.registerForm.code,email:e.registerForm.email},t={data:Object(l["b"])(s)};Object(o["c"])(t).then((function(r){202===r.data.status||201===r.data.status?e.$message.error(r.data.msg):(e.$message.success(r.data.msg),e.$refs.registerForm.resetFields(),e.$router.push({path:"/login"}))}))}}))}},beforeDestroy:function(){clearInterval(this.timer)}},m=n,d=(s("cda9"),s("5d22")),c=Object(d["a"])(m,t,a,!1,null,"ef48aaac",null);r["default"]=c.exports},"9eb5":function(e,r,s){},cda9:function(e,r,s){"use strict";s("9eb5")}}]);